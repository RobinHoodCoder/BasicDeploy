"use strict";
"use strict";$(function(){$(".swiper-container").each(function(){if($(this).hasClass("lazy"))new Swiper($(this),{navigation:{noSwiping:!0,noSwipingClass:"swipe-this"},preloadImages:!1,lazy:{loadPrevNextAmount:3,loadOnTransitionStart:!0}});else new Swiper($(this),{})});var n,r,o,a=$(".device").css("position");function e(s,a,l){console.log(s),$(a).each(function(a,e){var t=$(e).attr("data-crop");if("fixed"===s)var i=$(e).attr("data-mobile-crop");else i=t;if($(e).attr("data-retina-crop")&&"relative"===s&&(i=$(e).attr("data-retina-crop")),$(e).attr("data-background")){var n=$(e).attr("data-background");n.indexOf(t);var r=new Image;r.src=n;var o=r.src.replace(t,i);n?$(e).attr("data-background",o):alert("gebruik bg-image ipv background shorthand in je slider of header afbeelding"),"textpage"===l&&$(e).css("background-image",'url("'+o+'")')}})}"fixed"!==a&&($(".sub-portfolio").imagesLoaded().done(function(a){var e=$(a.elements).find(".subGalleryCard"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")}),$(".portfolio-items").imagesLoaded({background:!0}).done(function(a){var e=$(a.elements).find(".portfolio-item"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")})),e(a,$(".retina"),"textpage"),$(".swiper-container").each(function(){e(a,$(".swiper-img"),"slider")}),0<$(this).scrollTop()&&($(".menu-container").addClass("scrolled"),$(".scrolled-menu-btn").addClass("scrolled")),window.addEventListener("scroll",function(a){0<$(this).scrollTop()?$(".menu-container").addClass("scrolled"):$(".menu-container").removeClass("scrolled")}),$("#hamburger-menu").on("click",function(){$("nav").toggleClass("visible"),$(".menuOverlay").toggleClass("active"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".menuOverlay").on("click",function(){$(".menuOverlay").toggleClass("active"),$("nav").toggleClass("visible"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".email").each(function(){var a=$(this).html();a=a.replace("[a]","@").replace("[d]","."),$(this).hasClass("mailto")&&(a='<a href="mailto:'+a+'">'+a+"</a>"),$(this).after(a).remove()}),0<$(".masonry-grid").length&&$(".masonry-grid").imagesLoaded().done(function(a){$(a.elements).find(".grid-item");$(".masonry-grid").masonry({itemSelector:".grid-item",masonry:{columnWidth:".grid-item",gutterWidth:10,horizontalOrder:!0}}).masonry("layout")}),$(".lazy").each(function(a,e){$(e).on("appear",function(){var a=$(this).attr("data-src");$(this).attr("src",a),$(this).addClass("load"),$(this).removeClass("lazy")}),$(e).appear(function(){})}),n=jQuery,r=n(".pswp")[0],o=[],n(".picture").each(function(){var i,a=n(this),t=(i=[],a.find("a").each(function(){var a=n(this).attr("href"),e=n(this).data("size").split("x"),t={src:a,w:e[0],h:e[1],title:n(this).data("caption"),tagitems:n(this).data("tags")};i.push(t)}),i);n.each(t,function(a,e){o[a]=new Image,o[a].src=e.src}),a.on("click","figure",function(a){a.preventDefault();var e=n("figure").index(this);new PhotoSwipe(r,PhotoSwipeUI_Default,t,{index:e,bgOpacity:.9,showHideOpacity:!1}).init()})}),$("img").on("contextmenu",function(a){return!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3Rjb252ZXJ0LmpzIiwiamF2YXNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJoYXNDbGFzcyIsIlN3aXBlciIsIm5hdmlnYXRpb24iLCIkY3VyclN3aXBlciIsInByZWxvYWRJbWFnZXMiLCJsYXp5IiwibG9hZFByZXZOZXh0QW1vdW50IiwidGl0bGUiLCJ0YWdpdGVtcyIsImltYWdlIiwiaW1hZ2VzTG9hZGVkIiwic2V0SW1hZ2UiLCJjdXJyQ3JvcCIsImJnVG9SZXBsYWNlIiwiYXR0ciIsImNvbnNvbGUiLCJkZXZpY2UiLCJpbWdDb250YWluZXIiLCJyZXBsYWNlQ3JvcHRvIiwiYmFja2dyb3VuZCIsInNyYyIsIkltYWdlIiwiaW1nIiwibmV3RGF0YUJnIiwicmVwbGFjZSIsInR5cGUiLCJhbGVydCIsImNzcyIsImhlaWdodHMiLCJkb25lIiwiaW5zdGFuY2UiLCJjYXJkcyIsImVsZW1lbnRzIiwiZmluZCIsIm1heCIsIk1hdGgiLCJBcnJheSIsInB1c2giLCJoZWlnaHQiLCJhcHBseSIsImRldmljZVNpemUiLCJzY3JvbGxUb3AiLCJhZGRDbGFzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDbGFzcyIsImUiLCJzdHIiLCJhZnRlciIsIm9uIiwibGVuZ3RoIiwiZ3JpZEl0ZW1zIiwibWFzb25yeSIsImh0bWwiLCJyZW1vdmUiLCJpIiwiZGF0YXNyYyIsIml0ZW1TZWxlY3RvciIsInJlbW92ZUNsYXNzIiwiY29sdW1uV2lkdGgiLCJndXR0ZXJXaWR0aCIsImhvcml6b250YWxPcmRlciIsIml0ZW1zIiwiZWwiLCIkcGljIiwiJGhyZWYiLCIkc2l6ZSIsIiR3aWR0aCIsIiRoZWlnaHQiLCJhcHBlYXIiLCJqUXVlcnkiLCJnZXRJdGVtcyIsImRhdGEiLCJzcGxpdCIsInByZXZlbnREZWZhdWx0IiwiJGluZGV4IiwiaW5kZXgiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJiZ09wYWNpdHkiLCJpdGVtIiwiaW5pdCIsImV2ZW50Iiwi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SyxXQXNCaEJ3RSxJQUFBQSxFQUFaekUsRUFBQUUsTUFBQWUsS0FBQSxRQXBCZ0JtRCxFQUFVcEUsRUFBRUUsTUFBTXdFLEtBQUssUUFBUUMsTUFBTSxLQTRCM0NDLEVBQUFBLENBcEJNckQsSUFBTTRDLEVBc0JkVSxFQVJlQyxFQUFPQyxHQVN0QkMsRUFSbUJ4RCxFQUF2QixHQVNXcUQsTUFSUUUsRUFBTTdFLE1BQXpCd0UsS0FBQSxXQVNJTyxTQVhSakYsRUFBQUUsTUFBQXdFLEtBQUEsU0FQWVYsRUFBTXhCLEtBQUswQyxLQXdCVkMsR0FNckJuRixFQUFTbUQsS0FBR2EsRUFBQSxTQUFjYyxFQUFBQyxHQUNmbkUsRUFBUGtFLEdBQUEsSUFBQXRELE1BREpaLEVBQUFrRSxHQUFBdkQsSUFBQXdELEVBQUEsTUFsQlFiLEVBQUtmLEdBQUcsUUFBUyxTQUFVLFNBQVNpQyxHQWhQaERBLEVBQUFSLGlCQW1QZ0IsSUFBSUMsRUFBUzdFLEVBQUcsVUFBVzhFLE1BQU81RSxNQVFuQixJQUFJbUYsV0FBV0MsRUFBT0MscUJBQXNCdkIsRUFQN0MsQ0FDVmMsTUFBT0QsRUFDUEksVUFBVyxHQUNYTyxpQkFBaUIsSUFLWkwsV0FNckJuRixFQUFFLE9BQU9tRCxHQUFHLGNBQWMsU0FBU0gsR0FDL0IsT0FBTyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gJChmdW5jdGlvbigpIHtcclxuLy8gICAgIHZhciBib290c3RyYXBjb2wgPSAkKHRoaXMpLmZpbmQoJy5ncmlkJyk7XHJcbi8vXHJcbi8vICAgICBjb25zb2xlLmxvZyhib290c3RyYXBjb2wpO1xyXG4vLyAgICAgJChib290c3RyYXBjb2wpLmNoaWxkcmVuKCdkaXYnKS5hZGRDbGFzcygncm93IG5vLWd1dHRlcnMnKTtcclxuLy9cclxuLy8gfSk7IiwiJChmdW5jdGlvbigpIHtcbiAgICAvLyBydW4gdGVzdCBvbiBpbml0aWFsIHBhZ2UgbG9hZFxuXG5cbiAgICAkKCcuc3dpcGVyLWNvbnRhaW5lcicpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdsYXp5Jykpe1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xhenkgc2xpZGVyJyk7XG4gICAgICAgICAgICB2YXIgJGN1cnJTd2lwZXIgPSAgbmV3IFN3aXBlcigkKHRoaXMpLHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG5vU3dpcGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZS10aGlzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBwcmVsb2FkaW5nIG9mIGFsbCBpbWFnZXNcbiAgICAgICAgICAgICAgICBwcmVsb2FkSW1hZ2VzOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBsYXp5IGxvYWRpbmdcbiAgICAgICAgICAgICAgICBsYXp5OiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQcmV2TmV4dEFtb3VudDogMyxcbiAgICAgICAgICAgICAgICAgICAgbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiB0cnVlXG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFyICRjdXJyU3dpcGVyID0gIG5ldyBTd2lwZXIoJCh0aGlzKSx7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuXG4gICAgdmFyIGRldmljZVNpemUgPSAkKCcuZGV2aWNlJykuY3NzKFwicG9zaXRpb25cIik7XG5cblxuICAgIGlmKGRldmljZVNpemUgIT09ICdmaXhlZCcpe1xuICAgICAgICAkKCcuc3ViLXBvcnRmb2xpbycpLmltYWdlc0xvYWRlZCgpLmRvbmUoIGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgY2FyZHMgPSAkKGluc3RhbmNlLmVsZW1lbnRzKS5maW5kKCcuc3ViR2FsbGVyeUNhcmQnKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAkKGNhcmRzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHRzLnB1c2goJCh0aGlzKS5oZWlnaHQoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseSggTWF0aCwgaGVpZ2h0cyApO1xuICAgICAgICAgICAgJChjYXJkcykuY3NzKCdoZWlnaHQnLCBtYXggKyAncHgnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5wb3J0Zm9saW8taXRlbXMnKS5pbWFnZXNMb2FkZWQoe2JhY2tncm91bmQ6IHRydWV9KS5kb25lKCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIGNhcmRzID0gJChpbnN0YW5jZS5lbGVtZW50cykuZmluZCgnLnBvcnRmb2xpby1pdGVtJyk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgJChjYXJkcykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0cy5wdXNoKCQodGhpcykuaGVpZ2h0KCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXguYXBwbHkoIE1hdGgsIGhlaWdodHMgKTtcbiAgICAgICAgICAgICQoY2FyZHMpLmNzcygnaGVpZ2h0JywgbWF4ICsgJ3B4Jyk7XG4gICAgICAgIH0pXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzZXRJbWFnZShkZXZpY2UsaW1nQ29udGFpbmVyLHR5cGUpe1xuICAgICAgICBjb25zb2xlLmxvZyhkZXZpY2UpO1xuXG5cbiAgICAgICAgLy9WZXJzaWUgbWV0IGFsbGVlbiBkYXRhIGJhY2tncm91bmRcbiAgICAgICAgJChpbWdDb250YWluZXIpLmVhY2goZnVuY3Rpb24oaSxiZ1RvUmVwbGFjZSl7XG4gICAgICAgICAgICB2YXIgY3VyckNyb3AgPSAkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWNyb3AnKTtcbiAgICAgICAgICAgIGlmKGRldmljZSA9PT0gJ2ZpeGVkJyl7XG4gICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VDcm9wdG8gPSAkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLW1vYmlsZS1jcm9wJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2FsZXJ0KCdOT1RGSUVYRUQnKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZUNyb3B0byA9IGN1cnJDcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJChiZ1RvUmVwbGFjZSkuYXR0cignZGF0YS1yZXRpbmEtY3JvcCcpKXtcbiAgICAgICAgICAgICAgICBpZihkZXZpY2UgPT09ICdyZWxhdGl2ZScpe1xuICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ3JvcHRvID0gJChiZ1RvUmVwbGFjZSkuYXR0cignZGF0YS1yZXRpbmEtY3JvcCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhbGVydCgncmV0aW5hJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2FsZXJ0KCQoY3VyckNyb3ApKTtcblxuICAgICAgICAgICAgaWYoJChiZ1RvUmVwbGFjZSkuYXR0cignZGF0YS1iYWNrZ3JvdW5kJykpIHtcblxuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kID0gJChiZ1RvUmVwbGFjZSkuYXR0cignZGF0YS1iYWNrZ3JvdW5kJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYmFja2dyb3VuZCBpbWFnZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIFwibm9uZVwiXG4gICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmQuaW5kZXhPZihjdXJyQ3JvcCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdHRVZPTkRFTicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoJ25JRVlUJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZTtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gYmFja2dyb3VuZDtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhQmcgPSBpbWcuc3JjLnJlcGxhY2UoY3VyckNyb3AsIHJlcGxhY2VDcm9wdG8pO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld0RhdGFCZyk7XG4gICAgICAgICAgICAgICAgLy8kKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCBuZXdEYXRhQmcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJChiZ1RvUmVwbGFjZSkuYXR0cignZGF0YS1iYWNrZ3JvdW5kJykpO1xuICAgICAgICAgICAgICAgICAgICAkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnLCBuZXdEYXRhQmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdnZWJydWlrIGJnLWltYWdlIGlwdiBiYWNrZ3JvdW5kIHNob3J0aGFuZCBpbiBqZSBzbGlkZXIgb2YgaGVhZGVyIGFmYmVlbGRpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3NsaWRlcicpe1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICd0ZXh0cGFnZScpe1xuICAgICAgICAgICAgICAgICAgICAkKGJnVG9SZXBsYWNlKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKFwiJyArIG5ld0RhdGFCZyArICdcIiknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcblxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRJbWFnZShkZXZpY2VTaXplLCQoJy5yZXRpbmEnKSwndGV4dHBhZ2UnKTtcblxuICAgICQoJy5zd2lwZXItY29udGFpbmVyJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBzZXRJbWFnZShkZXZpY2VTaXplLCQoJy5zd2lwZXItaW1nJyksJ3NsaWRlcicpO1xuICAgIH0pO1xuXG4gICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAwKXtcbiAgICAgICAgJCgnLm1lbnUtY29udGFpbmVyJykuYWRkQ2xhc3MoXCJzY3JvbGxlZFwiKTtcbiAgICAgICAgJCgnLnNjcm9sbGVkLW1lbnUtYnRuJykuYWRkQ2xhc3MoXCJzY3JvbGxlZFwiKTtcbiAgICB9XG4gICAgLy9DcmVhdGUgcGxha2tlbmRlIG5hdlxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAwKXtcbiAgICAgICAgICAgICQoJy5tZW51LWNvbnRhaW5lcicpLmFkZENsYXNzKFwic2Nyb2xsZWRcIik7XG4gICAgICAgICAgICAvLyAkKCcudG9wcGVzdCcpLmFkZENsYXNzKFwiZmFkZS1vdXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICQoJy5tZW51LWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKFwic2Nyb2xsZWRcIik7XG4gICAgICAgICAgICAvLyAkKCcudG9wcGVzdCcpLnJlbW92ZUNsYXNzKFwiZmFkZS1vdXRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gSGFtYnVyZ2VyIE1lbnVcbiAgICAkKCBcIiNoYW1idXJnZXItbWVudVwiICkub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgJCggXCJuYXZcIiApLnRvZ2dsZUNsYXNzKCBcInZpc2libGVcIiApO1xuICAgICAgICAkKCBcIi5tZW51T3ZlcmxheVwiICkudG9nZ2xlQ2xhc3MoIFwiYWN0aXZlXCIgKTtcbiAgICAgICAgJCggXCJib2R5XCIgKS50b2dnbGVDbGFzcyggXCJvdmVybGF5XCIgKTtcbiAgICAgICAgJCggXCIucGhvbmUtY3RhLm1vYmlsZVwiICkudG9nZ2xlQ2xhc3MoIFwidmlzaWJsZVwiICk7XG4gICAgfSk7XG4gICAgJCggXCIubWVudU92ZXJsYXlcIiApLm9uKCdjbGljaycsZnVuY3Rpb24oKSB7XG4gICAgICAgICQoIFwiLm1lbnVPdmVybGF5XCIgKS50b2dnbGVDbGFzcyggXCJhY3RpdmVcIiApO1xuICAgICAgICAkKCBcIm5hdlwiICkudG9nZ2xlQ2xhc3MoIFwidmlzaWJsZVwiICk7XG4gICAgICAgICQoIFwiYm9keVwiICkudG9nZ2xlQ2xhc3MoIFwib3ZlcmxheVwiICk7XG4gICAgICAgICQoIFwiLnBob25lLWN0YS5tb2JpbGVcIiApLnRvZ2dsZUNsYXNzKCBcInZpc2libGVcIiApO1xuICAgIH0pO1xuXG4gICAgLy8gRS1tYWlsYWRyZXMgc3BhbSBwcmV2ZW50aW9uXG4gICAgJCgnLmVtYWlsJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc3RyID0gJCh0aGlzKS5odG1sKCk7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCdbYV0nLCAnQCcpLnJlcGxhY2UoJ1tkXScsICcuJyk7XG4gICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ21haWx0bycpKXtcbiAgICAgICAgICAgIHN0ciA9ICc8YSBocmVmPVwibWFpbHRvOicrIHN0ciArJ1wiPicrIHN0ciArJzwvYT4nO1xuICAgICAgICB9XG4gICAgICAgICQodGhpcykuYWZ0ZXIoc3RyKS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGlmKCQoJy5tYXNvbnJ5LWdyaWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5tYXNvbnJ5LWdyaWQnKS5pbWFnZXNMb2FkZWQoKS5kb25lKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIGdyaWRJdGVtcyA9ICQoaW5zdGFuY2UuZWxlbWVudHMpLmZpbmQoJy5ncmlkLWl0ZW0nKTtcblxuICAgICAgICAgICAgdmFyICRncmlkID0gJCgnLm1hc29ucnktZ3JpZCcpLm1hc29ucnkoe1xuICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogJy5ncmlkLWl0ZW0nLFxuXG4gICAgICAgICAgICAgICAgbWFzb25yeToge1xuICAgICAgICAgICAgICAgICAgICAvLyB1c2Ugb3V0ZXIgd2lkdGggb2YgZ3JpZC1zaXplciBmb3IgY29sdW1uV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgXCJjb2x1bW5XaWR0aFwiOiAnLmdyaWQtaXRlbScsXG4gICAgICAgICAgICAgICAgICAgIFwiZ3V0dGVyV2lkdGhcIjogMTAsXG4gICAgICAgICAgICAgICAgICAgIFwiaG9yaXpvbnRhbE9yZGVyXCI6IHRydWVcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGdyaWQubWFzb25yeSgnbGF5b3V0Jyk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnLmxhenknKS5lYWNoKGZ1bmN0aW9uIChpLGVsKSB7XG4gICAgICAgICQoZWwpLm9uKCdhcHBlYXInLGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRhdGFzcmMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsZGF0YXNyYyk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdsb2FkJyk7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdsYXp5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGVsKS5hcHBlYXIoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIEdhbGxlcnlcbiAgICAoZnVuY3Rpb24oJCkge1xuICAgICAgICB2YXIgJHBzd3AgPSAkKCcucHN3cCcpWzBdO1xuICAgICAgICB2YXIgaW1hZ2UgPSBbXTtcblxuICAgICAgICAkKCcucGljdHVyZScpLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRwaWMgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICBnZXRJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgJHBpYy5maW5kKCdhJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaHJlZiAgID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNpemUgICA9ICQodGhpcykuZGF0YSgnc2l6ZScpLnNwbGl0KCd4JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpZHRoICA9ICRzaXplWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRoZWlnaHQgPSAkc2l6ZVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2FwdGlvbiA9ICQodGhpcykuZGF0YSgnY2FwdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YWdpdGVtcyA9ICQodGhpcykuZGF0YSgndGFncycpXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjIDogJGhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdyAgIDogJHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggICA6ICRoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICRjYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ2l0ZW1zOiAkdGFnaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGdldEl0ZW1zKCk7XG5cbiAgICAgICAgICAgICQuZWFjaChpdGVtcywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VbaW5kZXhdICAgICA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGltYWdlW2luZGV4XS5zcmMgPSB2YWx1ZVsnc3JjJ107XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHBpYy5vbignY2xpY2snLCAnZmlndXJlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyICRpbmRleCA9ICQoIFwiZmlndXJlXCIgKS5pbmRleCggdGhpcyApO1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDogJGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBiZ09wYWNpdHk6IDAuOSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0hpZGVPcGFjaXR5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHZhciBsaWdodEJveCA9IG5ldyBQaG90b1N3aXBlKCRwc3dwLCBQaG90b1N3aXBlVUlfRGVmYXVsdCwgaXRlbXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94LmluaXQoKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pKGpRdWVyeSk7XG5cbiAgICAkKFwiaW1nXCIpLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihlKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG5cbiAgICAvLyBHYWxsZXJ5XG5cblxuXG5cbn0pO1xuXG4iXX0=
