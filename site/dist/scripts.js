"use strict";$(function(){var i=$(this).find(".grid");console.log(i),$(i).children("div").addClass("row no-gutters")});
"use strict";$(function(){function a(s,a,l){console.log(s),$(a).each(function(a,e){var t=$(e).attr("data-crop");if("fixed"===s)var i=$(e).attr("data-mobile-crop");else i=t;if($(e).attr("data-retina-crop")&&"relative"===s&&(i=$(e).attr("data-retina-crop")),$(e).attr("data-background")){var n=$(e).attr("data-background");n.indexOf(t);var r=new Image;r.src=n;var o=r.src.replace(t,i);n?$(e).attr("data-background",o):alert("gebruik bg-image ipv background shorthand in je slider of header afbeelding"),"textpage"===l&&$(e).css("background-image",'url("'+o+'")')}})}$(".swiper-container").each(function(){$(this).hasClass("lazy")?new Swiper($(this),{navigation:{noSwiping:!0,noSwipingClass:"swipe-this"},preloadImages:!1,lazy:{loadPrevNextAmount:3,loadOnTransitionStart:!0}}):new Swiper($(this),{})});var n,r,o,e=$(".device").css("position");"fixed"!==e&&($(".sub-portfolio").imagesLoaded().done(function(a){var e=$(a.elements).find(".subGalleryCard"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")}),$(".portfolio-items").imagesLoaded({background:!0}).done(function(a){var e=$(a.elements).find(".portfolio-item"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")})),a(e,$(".retina"),"textpage"),$(".swiper-container").each(function(){a(e,$(".swiper-img"),"slider")}),0<$(this).scrollTop()&&($(".menu-container").addClass("scrolled"),$(".scrolled-menu-btn").addClass("scrolled")),window.addEventListener("scroll",function(){0<$(this).scrollTop()?$(".menu-container").addClass("scrolled"):$(".menu-container").removeClass("scrolled")}),$("#hamburger-menu").on("click",function(){$("nav").toggleClass("visible"),$(".menuOverlay").toggleClass("active"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".menuOverlay").on("click",function(){$(".menuOverlay").toggleClass("active"),$("nav").toggleClass("visible"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".email").each(function(){var a=$(this).html();a=a.replace("[a]","@").replace("[d]","."),$(this).hasClass("mailto")&&(a='<a href="mailto:'+a+'">'+a+"</a>"),$(this).after(a).remove()}),0<$(".masonry-grid").length&&$(".masonry-grid").imagesLoaded().done(function(a){($(a.elements).find(".grid-item"),$(".masonry-grid").masonry({itemSelector:".grid-item",masonry:{columnWidth:".grid-item",gutterWidth:10,horizontalOrder:!0}})).masonry("layout")}),$(".lazy").each(function(a,e){$(e).on("appear",function(){var a=$(this).attr("data-src");$(this).attr("src",a),$(this).addClass("load"),$(this).removeClass("lazy")}),$(e).appear(function(){})}),n=jQuery,r=n(".pswp")[0],o=[],n(".picture").each(function(){var i,a=n(this),t=(i=[],a.find("a").each(function(){var a=n(this).attr("href"),e=n(this).data("size").split("x"),t={src:a,w:e[0],h:e[1],title:n(this).data("caption"),tagitems:n(this).data("tags")};i.push(t)}),i);n.each(t,function(a,e){o[a]=new Image,o[a].src=e.src}),a.on("click","figure",function(a){a.preventDefault();var e=n("figure").index(this);new PhotoSwipe(r,PhotoSwipeUI_Default,t,{index:e,bgOpacity:.9,showHideOpacity:!1}).init()})}),$("img").on("contextmenu",function(){return!1})});
"use strict";$(function(){$(".swiper-container").each(function(){if($(this).hasClass("lazy"))new Swiper($(this),{navigation:{noSwiping:!0,noSwipingClass:"swipe-this"},preloadImages:!1,lazy:{loadPrevNextAmount:3,loadOnTransitionStart:!0}});else new Swiper($(this),{})});var n,r,o,a=$(".device").css("position");function e(s,a,l){console.log(s),$(a).each(function(a,e){var t=$(e).attr("data-crop");if("fixed"===s)var i=$(e).attr("data-mobile-crop");else i=t;if($(e).attr("data-retina-crop")&&"relative"===s&&(i=$(e).attr("data-retina-crop")),$(e).attr("data-background")){var n=$(e).attr("data-background");n.indexOf(t);var r=new Image;r.src=n;var o=r.src.replace(t,i);n?$(e).attr("data-background",o):alert("gebruik bg-image ipv background shorthand in je slider of header afbeelding"),"textpage"===l&&$(e).css("background-image",'url("'+o+'")')}})}"fixed"!==a&&($(".sub-portfolio").imagesLoaded().done(function(a){var e=$(a.elements).find(".subGalleryCard"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")}),$(".portfolio-items").imagesLoaded({background:!0}).done(function(a){var e=$(a.elements).find(".portfolio-item"),t=new Array;$(e).each(function(){t.push($(this).height())});var i=Math.max.apply(Math,t);$(e).css("height",i+"px")})),e(a,$(".retina"),"textpage"),$(".swiper-container").each(function(){e(a,$(".swiper-img"),"slider")}),0<$(this).scrollTop()&&($(".menu-container").addClass("scrolled"),$(".scrolled-menu-btn").addClass("scrolled")),window.addEventListener("scroll",function(a){0<$(this).scrollTop()?$(".menu-container").addClass("scrolled"):$(".menu-container").removeClass("scrolled")}),$("#hamburger-menu").on("click",function(){$("nav").toggleClass("visible"),$(".menuOverlay").toggleClass("active"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".menuOverlay").on("click",function(){$(".menuOverlay").toggleClass("active"),$("nav").toggleClass("visible"),$("body").toggleClass("overlay"),$(".phone-cta.mobile").toggleClass("visible")}),$(".email").each(function(){var a=$(this).html();a=a.replace("[a]","@").replace("[d]","."),$(this).hasClass("mailto")&&(a='<a href="mailto:'+a+'">'+a+"</a>"),$(this).after(a).remove()}),0<$(".masonry-grid").length&&$(".masonry-grid").imagesLoaded().done(function(a){$(a.elements).find(".grid-item");$(".masonry-grid").masonry({itemSelector:".grid-item",masonry:{columnWidth:".grid-item",gutterWidth:10,horizontalOrder:!0}}).masonry("layout")}),$(".lazy").each(function(a,e){$(e).on("appear",function(){var a=$(this).attr("data-src");$(this).attr("src",a),$(this).addClass("load"),$(this).removeClass("lazy")}),$(e).appear(function(){})}),n=jQuery,r=n(".pswp")[0],o=[],n(".picture").each(function(){var i,a=n(this),t=(i=[],a.find("a").each(function(){var a=n(this).attr("href"),e=n(this).data("size").split("x"),t={src:a,w:e[0],h:e[1],title:n(this).data("caption"),tagitems:n(this).data("tags")};i.push(t)}),i);n.each(t,function(a,e){o[a]=new Image,o[a].src=e.src}),a.on("click","figure",function(a){a.preventDefault();var e=n("figure").index(this);new PhotoSwipe(r,PhotoSwipeUI_Default,t,{index:e,bgOpacity:.9,showHideOpacity:!1}).init()})}),$("img").on("contextmenu",function(a){return!1})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3Rjb252ZXJ0LmpzIiwiamF2YXNjcmlwdC1kaXN0LmpzIiwiamF2YXNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwiYm9vdHN0cmFwY29sIiwidGhpcyIsImZpbmQiLCJjb25zb2xlIiwiY2hpbGRyZW4iLCJhZGRDbGFzcyIsImEiLCJlIiwidCIsImxvZyIsImVhY2giLCJpIiwibiIsImF0dHIiLCJyIiwibyIsImluZGV4T2YiLCJzIiwiSW1hZ2UiLCJzcmMiLCJsIiwicmVwbGFjZSIsImFsZXJ0IiwiY3NzIiwiaGFzQ2xhc3MiLCJTd2lwZXIiLCJuYXZpZ2F0aW9uIiwibm9Td2lwaW5nIiwibm9Td2lwaW5nQ2xhc3MiLCJwcmVsb2FkSW1hZ2VzIiwibGF6eSIsImxvYWRQcmV2TmV4dEFtb3VudCIsImxvYWRPblRyYW5zaXRpb25TdGFydCIsImltYWdlc0xvYWRlZCIsImRvbmUiLCJlbGVtZW50cyIsIkFycmF5IiwicHVzaCIsImhlaWdodCIsIk1hdGgiLCJtYXgiLCJhcHBseSIsImJhY2tncm91bmQiLCJzY3JvbGxUb3AiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2xhc3MiLCJvbiIsInRvZ2dsZUNsYXNzIiwiaHRtbCIsImFmdGVyIiwicmVtb3ZlIiwibGVuZ3RoIiwibWFzb25yeSIsIml0ZW1TZWxlY3RvciIsImNvbHVtbldpZHRoIiwiZ3V0dGVyV2lkdGgiLCJob3Jpem9udGFsT3JkZXIiLCJhcHBlYXIiLCJqUXVlcnkiLCJkYXRhIiwic3BsaXQiLCJ3IiwiaCIsInRpdGxlIiwidGFnaXRlbXMiLCJwcmV2ZW50RGVmYXVsdCIsImluZGV4IiwiUGhvdG9Td2lwZSIsIlBob3RvU3dpcGVVSV9EZWZhdWx0IiwiYmdPcGFjaXR5Iiwic2hvd0hpZGVPcGFjaXR5IiwiaW5pdCIsImltYWdlIiwic2V0SW1hZ2UiLCJjdXJyQ3JvcCIsImJnVG9SZXBsYWNlIiwiZGV2aWNlIiwiaW1nQ29udGFpbmVyIiwicmVwbGFjZUNyb3B0byIsImltZyIsIm5ld0RhdGFCZyIsInR5cGUiLCJoZWlnaHRzIiwiaW5zdGFuY2UiLCJjYXJkcyIsImRldmljZVNpemUiLCJzdHIiLCJncmlkSXRlbXMiLCJkYXRhc3JjIiwiaXRlbXMiLCJlbCIsIiRwaWMiLCIkaHJlZiIsIiRzaXplIiwiJHdpZHRoIiwiJGhlaWdodCIsImdldEl0ZW1zIiwiJGluZGV4IiwidmFsdWUiLCJvcHRpb25zIiwiaXRlbSIsImV2ZW50IiwiJHBzd3AiXSwibWFwcGluZ3MiOiJhQUFBQSxFQUFFLFdBQ0UsSUFBSUMsRUFBZUQsRUFBRUUsTUFBTUMsS0FBSyxTQUFoQ0MsUUFBSUgsSUFBQUEsR0FHSkQsRUFBRUMsR0FBY0ksU0FBUyxPQUFPQyxTQUFTO2FDSjdDTixFQUFFLFdBQVcsU0FBU08sRUFBRUEsRUFBRUMsRUFBRUMsR0FBR0wsUUFBUU0sSUFBSUgsR0FBR1AsRUFBRVEsR0FBR0csS0FBSyxTQUFTSCxFQUFFSSxHQUFHLElBQUlDLEVBQUViLEVBQUVZLEdBQUdFLEtBQUssYUFBYSxHQUFHLFVBQVVQLEVBQUUsSUFBSVEsRUFBRWYsRUFBRVksR0FBR0UsS0FBSyx5QkFBNkJDLEVBQUVGLEVBQUUsR0FBR2IsRUFBRVksR0FBR0UsS0FBSyxxQkFBcUIsYUFBYVAsSUFBSVEsRUFBRWYsRUFBRVksR0FBR0UsS0FBSyxxQkFBcUJkLEVBQUVZLEdBQUdFLEtBQUssbUJBQW1CLENBQUMsSUFBSUUsRUFBRWhCLEVBQUVZLEdBQUdFLEtBQUssbUJBQW1CRSxFQUFFQyxRQUFRSixHQUFLLElBQUlLLEVBQUUsSUFBSUMsTUFBTUQsRUFBRUUsSUFBSUosRUFBRSxJQUFJSyxFQUFFSCxFQUFFRSxJQUFJRSxRQUFRVCxFQUFFRSxHQUFHQyxFQUFFaEIsRUFBRVksR0FBR0UsS0FBSyxrQkFBa0JPLEdBQUdFLE1BQU0sK0VBQStFLGFBQWFkLEdBQUdULEVBQUVZLEdBQUdZLElBQUksbUJBQW1CLFFBQVFILEVBQUUsU0FBU3JCLEVBQUUscUJBQXFCVyxLQUFLLFdBQWNYLEVBQUVFLE1BQU11QixTQUFT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OEIsRUFBTXJELEtBQUtnRSxLQXdCVjdCLEdBTXJCekUsRUFBU2dELEtBQUcyQyxFQUFBLFNBQWN2QixFQUFBZ0MsR0FDZjFCLEVBQVBOLEdBQUEsSUFBQWpELE1BREp1RCxFQUFBTixHQUFBaEQsSUFBQWdGLEVBQUEsTUFsQlFQLEVBQUs3QyxHQUFHLFFBQVMsU0FBVSxTQUFTdUQsR0FsUGhEQSxFQUFBcEMsaUJBcVBnQixJQUFJZ0MsRUFBU25HLEVBQUcsVUFBV29FLE1BQU9sRSxNQVFuQixJQUFJbUUsV0FBV21DLEVBQU9sQyxxQkFBc0JxQixFQVA3QyxDQUNWdkIsTUFBTytCLEVBQ1A1QixVQUFXLEdBQ1hDLGlCQUFpQixJQUtaQyxXQU1yQnpFLEVBQUUsT0FBT2dELEdBQUcsY0FBYyxTQUFTeEMsR0FDL0IsT0FBTyIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcclxuICAgIHZhciBib290c3RyYXBjb2wgPSAkKHRoaXMpLmZpbmQoJy5ncmlkJyk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYm9vdHN0cmFwY29sKTtcclxuICAgICQoYm9vdHN0cmFwY29sKS5jaGlsZHJlbignZGl2JykuYWRkQ2xhc3MoJ3JvdyBuby1ndXR0ZXJzJyk7XHJcblxyXG59KTsiLCIkKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUsdCl7Y29uc29sZS5sb2coYSksJChlKS5lYWNoKGZ1bmN0aW9uKGUsaSl7dmFyIG49JChpKS5hdHRyKFwiZGF0YS1jcm9wXCIpO2lmKFwiZml4ZWRcIj09PWEpdmFyIHI9JChpKS5hdHRyKFwiZGF0YS1tb2JpbGUtY3JvcFwiKTtlbHNlIHZhciByPW47aWYoJChpKS5hdHRyKFwiZGF0YS1yZXRpbmEtY3JvcFwiKSYmXCJyZWxhdGl2ZVwiPT09YSYmKHI9JChpKS5hdHRyKFwiZGF0YS1yZXRpbmEtY3JvcFwiKSksJChpKS5hdHRyKFwiZGF0YS1iYWNrZ3JvdW5kXCIpKXt2YXIgbz0kKGkpLmF0dHIoXCJkYXRhLWJhY2tncm91bmRcIik7by5pbmRleE9mKG4pPjA7dmFyIHM9bmV3IEltYWdlO3Muc3JjPW87dmFyIGw9cy5zcmMucmVwbGFjZShuLHIpO28/JChpKS5hdHRyKFwiZGF0YS1iYWNrZ3JvdW5kXCIsbCk6YWxlcnQoXCJnZWJydWlrIGJnLWltYWdlIGlwdiBiYWNrZ3JvdW5kIHNob3J0aGFuZCBpbiBqZSBzbGlkZXIgb2YgaGVhZGVyIGFmYmVlbGRpbmdcIiksXCJ0ZXh0cGFnZVwiPT09dCYmJChpKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsJ3VybChcIicrbCsnXCIpJyl9fSl9JChcIi5zd2lwZXItY29udGFpbmVyXCIpLmVhY2goZnVuY3Rpb24oKXtpZigkKHRoaXMpLmhhc0NsYXNzKFwibGF6eVwiKSl7bmV3IFN3aXBlcigkKHRoaXMpLHtuYXZpZ2F0aW9uOntub1N3aXBpbmc6ITAsbm9Td2lwaW5nQ2xhc3M6XCJzd2lwZS10aGlzXCJ9LHByZWxvYWRJbWFnZXM6ITEsbGF6eTp7bG9hZFByZXZOZXh0QW1vdW50OjMsbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiEwfX0pfWVsc2V7bmV3IFN3aXBlcigkKHRoaXMpLHt9KX19KTt2YXIgZT0kKFwiLmRldmljZVwiKS5jc3MoXCJwb3NpdGlvblwiKTtcImZpeGVkXCIhPT1lJiYoJChcIi5zdWItcG9ydGZvbGlvXCIpLmltYWdlc0xvYWRlZCgpLmRvbmUoZnVuY3Rpb24oYSl7dmFyIGU9JChhLmVsZW1lbnRzKS5maW5kKFwiLnN1YkdhbGxlcnlDYXJkXCIpLHQ9bmV3IEFycmF5OyQoZSkuZWFjaChmdW5jdGlvbigpe3QucHVzaCgkKHRoaXMpLmhlaWdodCgpKX0pO3ZhciBpPU1hdGgubWF4LmFwcGx5KE1hdGgsdCk7JChlKS5jc3MoXCJoZWlnaHRcIixpK1wicHhcIil9KSwkKFwiLnBvcnRmb2xpby1pdGVtc1wiKS5pbWFnZXNMb2FkZWQoe2JhY2tncm91bmQ6ITB9KS5kb25lKGZ1bmN0aW9uKGEpe3ZhciBlPSQoYS5lbGVtZW50cykuZmluZChcIi5wb3J0Zm9saW8taXRlbVwiKSx0PW5ldyBBcnJheTskKGUpLmVhY2goZnVuY3Rpb24oKXt0LnB1c2goJCh0aGlzKS5oZWlnaHQoKSl9KTt2YXIgaT1NYXRoLm1heC5hcHBseShNYXRoLHQpOyQoZSkuY3NzKFwiaGVpZ2h0XCIsaStcInB4XCIpfSkpLGEoZSwkKFwiLnJldGluYVwiKSxcInRleHRwYWdlXCIpLCQoXCIuc3dpcGVyLWNvbnRhaW5lclwiKS5lYWNoKGZ1bmN0aW9uKCl7YShlLCQoXCIuc3dpcGVyLWltZ1wiKSxcInNsaWRlclwiKX0pLCQodGhpcykuc2Nyb2xsVG9wKCk+MCYmKCQoXCIubWVudS1jb250YWluZXJcIikuYWRkQ2xhc3MoXCJzY3JvbGxlZFwiKSwkKFwiLnNjcm9sbGVkLW1lbnUtYnRuXCIpLmFkZENsYXNzKFwic2Nyb2xsZWRcIikpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsZnVuY3Rpb24oKXskKHRoaXMpLnNjcm9sbFRvcCgpPjA/JChcIi5tZW51LWNvbnRhaW5lclwiKS5hZGRDbGFzcyhcInNjcm9sbGVkXCIpOiQoXCIubWVudS1jb250YWluZXJcIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGxlZFwiKX0pLCQoXCIjaGFtYnVyZ2VyLW1lbnVcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7JChcIm5hdlwiKS50b2dnbGVDbGFzcyhcInZpc2libGVcIiksJChcIi5tZW51T3ZlcmxheVwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSwkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIm92ZXJsYXlcIiksJChcIi5waG9uZS1jdGEubW9iaWxlXCIpLnRvZ2dsZUNsYXNzKFwidmlzaWJsZVwiKX0pLCQoXCIubWVudU92ZXJsYXlcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7JChcIi5tZW51T3ZlcmxheVwiKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSwkKFwibmF2XCIpLnRvZ2dsZUNsYXNzKFwidmlzaWJsZVwiKSwkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcIm92ZXJsYXlcIiksJChcIi5waG9uZS1jdGEubW9iaWxlXCIpLnRvZ2dsZUNsYXNzKFwidmlzaWJsZVwiKX0pLCQoXCIuZW1haWxcIikuZWFjaChmdW5jdGlvbigpe3ZhciBhPSQodGhpcykuaHRtbCgpO2E9YS5yZXBsYWNlKFwiW2FdXCIsXCJAXCIpLnJlcGxhY2UoXCJbZF1cIixcIi5cIiksJCh0aGlzKS5oYXNDbGFzcyhcIm1haWx0b1wiKSYmKGE9JzxhIGhyZWY9XCJtYWlsdG86JythKydcIj4nK2ErXCI8L2E+XCIpLCQodGhpcykuYWZ0ZXIoYSkucmVtb3ZlKCl9KSwkKFwiLm1hc29ucnktZ3JpZFwiKS5sZW5ndGg+MCYmJChcIi5tYXNvbnJ5LWdyaWRcIikuaW1hZ2VzTG9hZGVkKCkuZG9uZShmdW5jdGlvbihhKXt2YXIgZT0oJChhLmVsZW1lbnRzKS5maW5kKFwiLmdyaWQtaXRlbVwiKSwkKFwiLm1hc29ucnktZ3JpZFwiKS5tYXNvbnJ5KHtpdGVtU2VsZWN0b3I6XCIuZ3JpZC1pdGVtXCIsbWFzb25yeTp7Y29sdW1uV2lkdGg6XCIuZ3JpZC1pdGVtXCIsZ3V0dGVyV2lkdGg6MTAsaG9yaXpvbnRhbE9yZGVyOiEwfX0pKTtlLm1hc29ucnkoXCJsYXlvdXRcIil9KSwkKFwiLmxhenlcIikuZWFjaChmdW5jdGlvbihhLGUpeyQoZSkub24oXCJhcHBlYXJcIixmdW5jdGlvbigpe3ZhciBhPSQodGhpcykuYXR0cihcImRhdGEtc3JjXCIpOyQodGhpcykuYXR0cihcInNyY1wiLGEpLCQodGhpcykuYWRkQ2xhc3MoXCJsb2FkXCIpLCQodGhpcykucmVtb3ZlQ2xhc3MoXCJsYXp5XCIpfSksJChlKS5hcHBlYXIoZnVuY3Rpb24oKXt9KX0pLGZ1bmN0aW9uKGEpe3ZhciBlPWEoXCIucHN3cFwiKVswXSx0PVtdO2EoXCIucGljdHVyZVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9YSh0aGlzKSxuPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuZmluZChcImFcIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PWEodGhpcykuYXR0cihcImhyZWZcIiksaT1hKHRoaXMpLmRhdGEoXCJzaXplXCIpLnNwbGl0KFwieFwiKSxuPWlbMF0scj1pWzFdLG89YSh0aGlzKS5kYXRhKFwiY2FwdGlvblwiKSxzPWEodGhpcykuZGF0YShcInRhZ3NcIiksbD17c3JjOnQsdzpuLGg6cix0aXRsZTpvLHRhZ2l0ZW1zOnN9O2UucHVzaChsKX0pLGV9LHI9bigpO2EuZWFjaChyLGZ1bmN0aW9uKGEsZSl7dFthXT1uZXcgSW1hZ2UsdFthXS5zcmM9ZS5zcmN9KSxpLm9uKFwiY2xpY2tcIixcImZpZ3VyZVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1hKFwiZmlndXJlXCIpLmluZGV4KHRoaXMpLG49e2luZGV4OmksYmdPcGFjaXR5Oi45LHNob3dIaWRlT3BhY2l0eTohMX0sbz1uZXcgUGhvdG9Td2lwZShlLFBob3RvU3dpcGVVSV9EZWZhdWx0LHIsbik7by5pbml0KCl9KX0pfShqUXVlcnkpLCQoXCJpbWdcIikub24oXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9amF2YXNjcmlwdC1kaXN0LmpzLm1hcCIsIiQoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBydW4gdGVzdCBvbiBpbml0aWFsIHBhZ2UgbG9hZFxuXG4gICAgJCgnLnN3aXBlci1jb250YWluZXInKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnbGF6eScpKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsYXp5IHNsaWRlcicpO1xuICAgICAgICAgICAgdmFyICRjdXJyU3dpcGVyID0gIG5ldyBTd2lwZXIoJCh0aGlzKSx7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuXG4gICAgICAgICAgICAgICAgICAgIG5vU3dpcGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbm9Td2lwaW5nQ2xhc3M6ICdzd2lwZS10aGlzJ1xuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHByZWxvYWRpbmcgb2YgYWxsIGltYWdlc1xuICAgICAgICAgICAgICAgIHByZWxvYWRJbWFnZXM6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAgLy8gRW5hYmxlIGxhenkgbG9hZGluZ1xuICAgICAgICAgICAgICAgIGxhenk6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZFByZXZOZXh0QW1vdW50OiAzLFxuICAgICAgICAgICAgICAgICAgICBsb2FkT25UcmFuc2l0aW9uU3RhcnQ6IHRydWVcblxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB2YXIgJGN1cnJTd2lwZXIgPSAgbmV3IFN3aXBlcigkKHRoaXMpLHtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICB2YXIgZGV2aWNlU2l6ZSA9ICQoJy5kZXZpY2UnKS5jc3MoXCJwb3NpdGlvblwiKTtcblxuXG4gICAgaWYoZGV2aWNlU2l6ZSAhPT0gJ2ZpeGVkJyl7XG4gICAgICAgICQoJy5zdWItcG9ydGZvbGlvJykuaW1hZ2VzTG9hZGVkKCkuZG9uZSggZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHZhciBjYXJkcyA9ICQoaW5zdGFuY2UuZWxlbWVudHMpLmZpbmQoJy5zdWJHYWxsZXJ5Q2FyZCcpO1xuICAgICAgICAgICAgdmFyIGhlaWdodHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICQoY2FyZHMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhlaWdodHMucHVzaCgkKHRoaXMpLmhlaWdodCgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KCBNYXRoLCBoZWlnaHRzICk7XG4gICAgICAgICAgICAkKGNhcmRzKS5jc3MoJ2hlaWdodCcsIG1heCArICdweCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCgnLnBvcnRmb2xpby1pdGVtcycpLmltYWdlc0xvYWRlZCh7YmFja2dyb3VuZDogdHJ1ZX0pLmRvbmUoIGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgY2FyZHMgPSAkKGluc3RhbmNlLmVsZW1lbnRzKS5maW5kKCcucG9ydGZvbGlvLWl0ZW0nKTtcbiAgICAgICAgICAgIHZhciBoZWlnaHRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAkKGNhcmRzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoZWlnaHRzLnB1c2goJCh0aGlzKS5oZWlnaHQoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseSggTWF0aCwgaGVpZ2h0cyApO1xuICAgICAgICAgICAgJChjYXJkcykuY3NzKCdoZWlnaHQnLCBtYXggKyAncHgnKTtcbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHNldEltYWdlKGRldmljZSxpbWdDb250YWluZXIsdHlwZSl7XG4gICAgICAgIGNvbnNvbGUubG9nKGRldmljZSk7XG5cblxuICAgICAgICAvL1ZlcnNpZSBtZXQgYWxsZWVuIGRhdGEgYmFja2dyb3VuZFxuICAgICAgICAkKGltZ0NvbnRhaW5lcikuZWFjaChmdW5jdGlvbihpLGJnVG9SZXBsYWNlKXtcbiAgICAgICAgICAgIHZhciBjdXJyQ3JvcCA9ICQoYmdUb1JlcGxhY2UpLmF0dHIoJ2RhdGEtY3JvcCcpO1xuICAgICAgICAgICAgaWYoZGV2aWNlID09PSAnZml4ZWQnKXtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZUNyb3B0byA9ICQoYmdUb1JlcGxhY2UpLmF0dHIoJ2RhdGEtbW9iaWxlLWNyb3AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vYWxlcnQoJ05PVEZJRVhFRCcpO1xuICAgICAgICAgICAgICAgIHZhciByZXBsYWNlQ3JvcHRvID0gY3VyckNyb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLXJldGluYS1jcm9wJykpe1xuICAgICAgICAgICAgICAgIGlmKGRldmljZSA9PT0gJ3JlbGF0aXZlJyl7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDcm9wdG8gPSAkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLXJldGluYS1jcm9wJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KCdyZXRpbmEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vYWxlcnQoJChjdXJyQ3JvcCkpO1xuXG4gICAgICAgICAgICBpZigkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmQgPSAkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBiYWNrZ3JvdW5kIGltYWdlIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gXCJub25lXCJcbiAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZC5pbmRleE9mKGN1cnJDcm9wKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoJ0dFVk9OREVOJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9hbGVydCgnbklFWVQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlO1xuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBiYWNrZ3JvdW5kO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld0RhdGFCZyA9IGltZy5zcmMucmVwbGFjZShjdXJyQ3JvcCwgcmVwbGFjZUNyb3B0byk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmV3RGF0YUJnKTtcbiAgICAgICAgICAgICAgICAvLyQoYmdUb1JlcGxhY2UpLmF0dHIoJ2RhdGEtYmFja2dyb3VuZCcsIG5ld0RhdGFCZyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkKGJnVG9SZXBsYWNlKS5hdHRyKCdkYXRhLWJhY2tncm91bmQnKSk7XG4gICAgICAgICAgICAgICAgICAgICQoYmdUb1JlcGxhY2UpLmF0dHIoJ2RhdGEtYmFja2dyb3VuZCcsIG5ld0RhdGFCZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ2dlYnJ1aWsgYmctaW1hZ2UgaXB2IGJhY2tncm91bmQgc2hvcnRoYW5kIGluIGplIHNsaWRlciBvZiBoZWFkZXIgYWZiZWVsZGluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAnc2xpZGVyJyl7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3RleHRwYWdlJyl7XG4gICAgICAgICAgICAgICAgICAgICQoYmdUb1JlcGxhY2UpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoXCInICsgbmV3RGF0YUJnICsgJ1wiKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSkge1xuXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZXtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEltYWdlKGRldmljZVNpemUsJCgnLnJldGluYScpLCd0ZXh0cGFnZScpO1xuXG4gICAgJCgnLnN3aXBlci1jb250YWluZXInKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIHNldEltYWdlKGRldmljZVNpemUsJCgnLnN3aXBlci1pbWcnKSwnc2xpZGVyJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDApe1xuICAgICAgICAkKCcubWVudS1jb250YWluZXInKS5hZGRDbGFzcyhcInNjcm9sbGVkXCIpO1xuICAgICAgICAkKCcuc2Nyb2xsZWQtbWVudS1idG4nKS5hZGRDbGFzcyhcInNjcm9sbGVkXCIpO1xuICAgIH1cbiAgICAvL0NyZWF0ZSBwbGFra2VuZGUgbmF2XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDApe1xuICAgICAgICAgICAgJCgnLm1lbnUtY29udGFpbmVyJykuYWRkQ2xhc3MoXCJzY3JvbGxlZFwiKTtcbiAgICAgICAgICAgIC8vICQoJy50b3BwZXN0JykuYWRkQ2xhc3MoXCJmYWRlLW91dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgJCgnLm1lbnUtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoXCJzY3JvbGxlZFwiKTtcbiAgICAgICAgICAgIC8vICQoJy50b3BwZXN0JykucmVtb3ZlQ2xhc3MoXCJmYWRlLW91dFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvLyBIYW1idXJnZXIgTWVudVxuICAgICQoIFwiI2hhbWJ1cmdlci1tZW51XCIgKS5vbignY2xpY2snLGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCBcIm5hdlwiICkudG9nZ2xlQ2xhc3MoIFwidmlzaWJsZVwiICk7XG4gICAgICAgICQoIFwiLm1lbnVPdmVybGF5XCIgKS50b2dnbGVDbGFzcyggXCJhY3RpdmVcIiApO1xuICAgICAgICAkKCBcImJvZHlcIiApLnRvZ2dsZUNsYXNzKCBcIm92ZXJsYXlcIiApO1xuICAgICAgICAkKCBcIi5waG9uZS1jdGEubW9iaWxlXCIgKS50b2dnbGVDbGFzcyggXCJ2aXNpYmxlXCIgKTtcbiAgICB9KTtcbiAgICAkKCBcIi5tZW51T3ZlcmxheVwiICkub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgJCggXCIubWVudU92ZXJsYXlcIiApLnRvZ2dsZUNsYXNzKCBcImFjdGl2ZVwiICk7XG4gICAgICAgICQoIFwibmF2XCIgKS50b2dnbGVDbGFzcyggXCJ2aXNpYmxlXCIgKTtcbiAgICAgICAgJCggXCJib2R5XCIgKS50b2dnbGVDbGFzcyggXCJvdmVybGF5XCIgKTtcbiAgICAgICAgJCggXCIucGhvbmUtY3RhLm1vYmlsZVwiICkudG9nZ2xlQ2xhc3MoIFwidmlzaWJsZVwiICk7XG4gICAgfSk7XG5cbiAgICAvLyBFLW1haWxhZHJlcyBzcGFtIHByZXZlbnRpb25cbiAgICAkKCcuZW1haWwnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzdHIgPSAkKHRoaXMpLmh0bWwoKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoJ1thXScsICdAJykucmVwbGFjZSgnW2RdJywgJy4nKTtcbiAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnbWFpbHRvJykpe1xuICAgICAgICAgICAgc3RyID0gJzxhIGhyZWY9XCJtYWlsdG86Jysgc3RyICsnXCI+Jysgc3RyICsnPC9hPic7XG4gICAgICAgIH1cbiAgICAgICAgJCh0aGlzKS5hZnRlcihzdHIpLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgaWYoJCgnLm1hc29ucnktZ3JpZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLm1hc29ucnktZ3JpZCcpLmltYWdlc0xvYWRlZCgpLmRvbmUoZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgZ3JpZEl0ZW1zID0gJChpbnN0YW5jZS5lbGVtZW50cykuZmluZCgnLmdyaWQtaXRlbScpO1xuXG4gICAgICAgICAgICB2YXIgJGdyaWQgPSAkKCcubWFzb25yeS1ncmlkJykubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmdyaWQtaXRlbScsXG5cbiAgICAgICAgICAgICAgICBtYXNvbnJ5OiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBvdXRlciB3aWR0aCBvZiBncmlkLXNpemVyIGZvciBjb2x1bW5XaWR0aFxuICAgICAgICAgICAgICAgICAgICBcImNvbHVtbldpZHRoXCI6ICcuZ3JpZC1pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgXCJndXR0ZXJXaWR0aFwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgXCJob3Jpem9udGFsT3JkZXJcIjogdHJ1ZVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZ3JpZC5tYXNvbnJ5KCdsYXlvdXQnKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcubGF6eScpLmVhY2goZnVuY3Rpb24gKGksZWwpIHtcbiAgICAgICAgJChlbCkub24oJ2FwcGVhcicsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGF0YXNyYyA9ICQodGhpcykuYXR0cignZGF0YS1zcmMnKTtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJyxkYXRhc3JjKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2xvYWQnKTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2xhenknKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZWwpLmFwcGVhcihmdW5jdGlvbigpIHtcblxuICAgICAgICB9KVxuICAgIH0pO1xuXG4gICAgLy8gR2FsbGVyeVxuICAgIChmdW5jdGlvbigkKSB7XG4gICAgICAgIHZhciAkcHN3cCA9ICQoJy5wc3dwJylbMF07XG4gICAgICAgIHZhciBpbWFnZSA9IFtdO1xuXG4gICAgICAgICQoJy5waWN0dXJlJykuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHBpYyAgICAgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGdldEl0ZW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAkcGljLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRocmVmICAgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2l6ZSAgID0gJCh0aGlzKS5kYXRhKCdzaXplJykuc3BsaXQoJ3gnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2lkdGggID0gJHNpemVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGhlaWdodCA9ICRzaXplWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjYXB0aW9uID0gJCh0aGlzKS5kYXRhKCdjYXB0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhZ2l0ZW1zID0gJCh0aGlzKS5kYXRhKCd0YWdzJylcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgOiAkaHJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ICAgOiAkd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaCAgIDogJGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJGNhcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnaXRlbXM6ICR0YWdpdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gZ2V0SXRlbXMoKTtcblxuICAgICAgICAgICAgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVtpbmRleF0gICAgID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2VbaW5kZXhdLnNyYyA9IHZhbHVlWydzcmMnXTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkcGljLm9uKCdjbGljaycsICdmaWd1cmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGluZGV4ID0gJCggXCJmaWd1cmVcIiApLmluZGV4KCB0aGlzICk7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAkaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGJnT3BhY2l0eTogMC45LFxuICAgICAgICAgICAgICAgICAgICBzaG93SGlkZU9wYWNpdHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgdmFyIGxpZ2h0Qm94ID0gbmV3IFBob3RvU3dpcGUoJHBzd3AsIFBob3RvU3dpcGVVSV9EZWZhdWx0LCBpdGVtcywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3guaW5pdCgpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSkoalF1ZXJ5KTtcblxuICAgICQoXCJpbWdcIikub24oXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKGUpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cblxuICAgIC8vIEdhbGxlcnlcblxuXG5cblxufSk7XG5cbiJdfQ==
